<html>
<head>
<title>Camera App</title>
<script src="../../../code/FF.js"></script>
</head>
<script type="text/javascript">
function pageLoadedFxn(){
	var ff = new FF("../../../code/",ffLoadedFxn);
}
function ffLoadedFxn(){
	console.log("ffLoadedFxn");
	(new ScriptLoader("./",["index.js","../libraries/src/CameraClient.js"],this,classesLoadedFxn)).load();
}
function classesLoadedFxn(){
	//console.log("classesLoadedFxn");
	//Code.setContent(Code.getBody(), "classesLoadedFxn");
	var app = new CameraApp();
		app.start();
	//Code.setContent(Code.getBody(), "after start");

	// app._client.getCameraImage();

	//app.testServerDLUP();
	// app.testServerData();
	// app._client.requestPing();
	// app._client.requestList();
	// app._client.requestDetails();

	/*
	var imageLoader = new ImageLoader("../../../images/",["iso_gnd_stone.png"], this,
	function(info){
		var image = info["images"][0];
		// console.log(image);
		var d = new DOImage(image);
		var source = GLOBALSTAGE.renderImage(image.width,image.height,d,);
		// console.log(source);
		var base64 = source.src;
		//var matrix = GLOBALSTAGE.getImageAsFloatRGB(image);
		// console.log(matrix);
		//var base64Data = image.src;

		//var base64Data = image.src;
		// var binaryData = Code.base64StringToBinary(base64Data);
		// console.log(binaryData);

		app._client.requestUpdate({"image":base64});

		//app._client.requestUpdate();
	});
	imageLoader.load();
	*/
	
	//app._client.requestUpdate();
}
// https://localhost/web/ff/cam/web/webClient/index.html
// http://localhost/web/ff/cam/web/distributionServer/index.php?path=%2Fcamera%2F1%2Fimage

// 192.168.0.140 
// curl http://192.168.0.140/web/ff/cam/web/distributionServer/index.php?path=%2Fcamera%2F1%2Fimage
// curl -vL http://192.168.0.140/web/ff/cam/web/distributionServer/index.php
</script>
<body onload="pageLoadedFxn();" style="border:0;margin:0;padding:0;background-color:#000000"></body>
</html>
