<html>
<head>
<title>Voronoi | Delaunay</title>
<script src="../code/FF.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script type="text/javascript">
function pageLoadedFxn(){
	var ff = new FF("../code/",defaultClassesLoadedFxn,defaultClassesProgressFxn);
}
function defaultClassesProgressFxn(o){}
function defaultClassesLoadedFxn(){
	var list = ["Vertex.js","Edge.js","Graph.js","Voronoi.js","Delaunay.js","Vor.js"];
	scriptLoader = new ScriptLoader("./",list,this,customClassesLoadedFxn,customClassesProgressFxn);
	scriptLoader.load();
}
function customClassesProgressFxn(o){}
function customClassesLoadedFxn(){

var o = new V2D(-2,-2);
//var d = new V2D(1,.732050807);
var d = new V2D(1,1);
var directrix = -1;
var focus = new V2D(0,1);

var a = 1.0;
var b = 1.0;
var c = 0.0;
var dat = Code.parabolaFocusDirectrixFromABC(a,b,c);
focus = dat.focus;
directrix = dat.directrix;

console.log(focus);
console.log(directrix);


var ints = Code.intersectionRayParabola(o,d, focus,directrix);

console.log(ints);
console.log(ints[0]);
console.log(ints[1]);

return;
/*
var focA = new V2D(25,350);
var focB = new V2D(100,350);
var dir = 322.5;
var ints = Code.intersectionParabolas(focA,dir, focB,dir);
console.log(ints);
console.log(ints[0]);
console.log(ints[1]);
return;
*/
/*
var obj;
var tree = new RedBlackTree();

console.log(tree.root());


tree.insertObject(10);

// console.log( tree.toString() );
// obj = tree.deleteObject(10);
// console.log(obj);
// console.log( tree.toString() );
// return;

tree.insertObject(6);
tree.insertObject(3);
tree.insertObject(5);
tree.insertObject(4);
tree.insertObject(2);
tree.insertObject(1);
tree.insertObject(0);
// tree.insertObject(0);
// tree.insertObject(0);
tree.insertObject(11);
tree.insertObject(12);
tree.insertObject(15);
tree.insertObject(13);
tree.insertObject(16);
tree.insertObject(17);

// tree.insertObject(6);

console.log( tree.toString() );
console.log( tree.toArray() );


var node = tree.findNodeFromObject(4);
console.log( node.data() );
node = tree.nextNode(node);
console.log( node.data() );


var node = tree.findNodeFromObject(3);
console.log( node.data() );
node = tree.nextNode(node);
console.log( node.data() );


var node = tree.findNodeFromObject(17);
console.log( node.data() );
//node = tree.nextNode(node);
//console.log( node.data() );


return;

obj = tree.deleteObject(6);
console.log( tree.toString() );
console.log( tree.toArray() );

tree.deleteObject(4);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(3);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(2);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(1);
console.log( tree.toString() );
console.log( tree.toArray() );
obj = tree.deleteObject(3);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(2);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(5);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.deleteObject(10);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(4);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(2);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(1);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(5);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(6);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );
tree.insertObject(0);
console.log( tree.toString() );
console.log( tree.toArray() );

return;
*/


/*
var p = Code.intersectionParabolas(new V2D(0,1),-1, new V2D(1,-1),-1);
console.log( p );
return;
*/

/*

var arc, obj, node, a, b, list;
var tree = new RedBlackTree(Voronoi.WaveFront.sorting);
var directrix = new V2D(0,0);
var parA = new V2D(3,4);
var parB = new V2D(4,3);
var parC = new V2D(2,2);
var parD = new V2D(4.5,1);

arc = new Voronoi.Arc(null,Voronoi.ARC_PARABOLA_INT_UNKNOWN, parA, null,Voronoi.ARC_PARABOLA_INT_UNKNOWN, directrix, new Voronoi.HalfEdge(), null);
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
console.log(arc);
console.log(tree.toString());

tree.insertNode(node);
console.log(tree.toString());



// FIND ARC TO SPLIT:
directrix.copy(parB);
node = tree.findObject(parB);
console.log(node);
arc = node.data();
console.log(arc);


// INSERT NEW ARC:
list = Voronoi.Arc.splitArcAtPoint(arc,parB);
arc.kill();
console.log(list);
directrix.y -= 0.1;

tree.deleteNode(node);
console.log(tree.toString());

arc = list[0];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());

arc = list[1];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());

arc = list[2];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());



// FIND ARC TO SPLIT:
directrix.copy(parC);
console.log("\n\n\n");
console.log(tree.toString());

node = tree.findObject(parC);
console.log(parC);
console.log(node);
arc = node.data();
console.log(arc);

// INSERT NEW ARC:
list = Voronoi.Arc.splitArcAtPoint(arc,parC);
//arc.kill();
console.log(list);
console.log("\n\n");
console.log(arc.toString());
console.log("\n");
console.log(list[0].toString());
console.log(list[1].toString());
console.log(list[2].toString());
console.log("\n\n");
directrix.y -= 0.1;

tree.deleteNode(node);
console.log(tree.toString());

arc = list[0];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());

arc = list[1];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());

arc = list[2];
node = RedBlackTree.newEmptyNode(arc);
arc.node(node);
tree.insertNode(node);
console.log("\n");
console.log(tree.toString());


// MERGE-OUT OLD ARC
directrix.copy(parD);
directrix.y -= 0.1;
console.log("\n\n");


console.log("\n");
console.log(tree.toString());
console.log("\n");

arc = tree.root().data();
console.log(arc);

console.log(arc.toString());
a = tree.predecessor(arc.node());
a = a.data();
console.log(a.toString());
b = tree.successor(arc.node());
b = b.data();
console.log(b.toString());

console.log( Voronoi.Arc.isArcToLeftOfArc(a,arc) );
console.log( Voronoi.Arc.isArcToLeftOfArc(arc,b) );

list = Voronoi.Arc.mergeArcs(a,arc,b);
console.log(list);
tree.deleteNode(a.node());
tree.deleteNode(arc.node());
tree.deleteNode(b.node());
console.log("\n");
console.log(tree.toString());
if(list.length==1){
	arc = list[0];
	node = RedBlackTree.newEmptyNode(arc);
	arc.node(node);
	tree.insertNode(node);
}
console.log("\n");
console.log(tree.toString());


console.log("\n\n");


console.log(tree.toString());


return;
*/

// (parL,dirL, parC, parR,dirR, dirX, edge, node){


/*
var parabolaA = new V2D(0,1);
var directrixA = new V2D(0,-1);
// var parabolaB = new V2D(2,1); // single
// var directrixB = new V2D(0,-1);
// var parabolaB = new V2D(0,1); // infinite
// var directrixB = new V2D(0,-1);
// var parabolaB = new V2D(0,2); // none - INCONSISTENT
// var directrixB = new V2D(0,0);
// var parabolaB = new V2D(0,2); // imaginary
// var directrixB = new V2D(0,1);
var parabolaB = new V2D(10,0); // two
var directrixB = new V2D(0,-1);

var intersections = Code.intersectionParabolas(parabolaA,directrixA.y, parabolaB,directrixB.y);
if(intersections){
	for(var i=0;i<intersections.length;++i){
		console.log( intersections[i].toString() );
	}
}else{
	console.log("none");
}
return;
*/

/*
var fxn = function(a,b){
	return b-a; // # - value
}


var root = new Voronoi.BinTree();
// var a = new Voronoi.BinTree(6);
// var b = new Voronoi.BinTree(7);
// var c = new Voronoi.BinTree(8);
// var d = new Voronoi.BinTree(9);
// var e = new Voronoi.BinTree(14);
// var f = new Voronoi.BinTree(11);
// var g = new Voronoi.BinTree(12);
// var h = new Voronoi.BinTree(10);
// root = root.addNode(b,fxn);
// console.log(root.toString());
// root = root.addNode(c,fxn);
// console.log(root.toString());
// root = root.addNode(d,fxn);
// console.log(root.toString());
// root = root.addNode(e,fxn);
// console.log(root.toString());
// root = root.addNode(f,fxn);
// console.log(root.toString());
// root = root.addNode(g,fxn);
// console.log(root.toString());
// root = root.addNode(h,fxn);

root.addItem(1);
root.addItem(2);
root.addItem(3);
root.addItem(4);
root.addItem(5);
root.addItem(6);
// root.addItem(0);
// root.addItem(-1);
console.log(root.toString());

//root.removeItem(3);
//root.removeItem(1);
//root.removeItem(4);
root.removeItem(6);
console.log(root.toString());
console.log(root.length());
root.removeItem(5);
console.log(root.toString());
console.log(root.length());
root.removeItem(3);
console.log(root.toString());
console.log(root.length());
root.removeItem(4);
console.log(root.toString());
console.log(root.length());
root.removeItem(2);
console.log(root.toString());
console.log(root.length());
//root.removeItem(1);
root.clear();
console.log(root.toString());
console.log(root.length());
//root.removeItem(3);
//console.log(root.toString());

//console.log( root.findItem(4) );

// root = root.addItem(5,fxn);
// root = root.addItem(6,fxn);
// root = root.addItem(7,fxn);
//console.log(root.toString());


console.log(root.toString());

return;
*/


	var voronoi = new Vor();

}

</script>
</head>
<body onload="pageLoadedFxn();" style="border:0px;margin:0px;border:0px;">
</body>
</html>

