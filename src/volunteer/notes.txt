LINUX:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
sudo apt-get install php5
sudo apt-get install mysql-client-core-5.5 mysql-client mysql-server
sudo apt-get install php5-mysql
service httpd restart
sudo /etc/init.d/apache2 stop
sudo service apache2 restart
...




SQL:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
mysql -u USER -p
> PASSWORD
mysql -u USER -h localhost -p'PASSWORD'

create user 'richie'@'localhost' identified by 'qwerty';
drop user 'richie'@'localhost';
grant all privileges on * . * to 'richie'@'localhost';
flush privileges;

...

mysql -h localhost -u richie -p'qwerty';

create database volunteering;
use volunteering;

create table users(id int not null auto_increment primary, username varchar(32) not null, password varchar(2048) not null)
alter table users 

show databases;
use DATABASE;
show tables;

TYPES: int, bigint, float, double, date (YYYY-MM-DD), datetime (YYYY-MM-DD HH:MM:SS.fraction), timestamp (YYYY-MM-DD HH:MM:SS - seconds), varchar(0-65535), text(~2^16), mediumtext(2^24), longtext (2^32), 


foriegn key - not used importantly
CREATE TABLE department (id NOT NULL)
CREATE TABLE employee (id NOT NULL, dept_id NOT NULL, FOREIGN KEY (dept_id) REFERENCES department(id))

default
ALTER TABLE `table`  ADD COLUMN `column` FLOAT(10,2) NOT NULL DEFAULT '0.00'

drop table users;


























insert into users (username, password) values ("richie","123");
select * from users;

----------------------
mysql -h localhost -u richie -p'qwerty'
create database volunteering;
use volunteering;
show tables;

alter table users


 +---------------------------------------------+
 |                    - 18 -                   |
 +---------------------------------------------+
 |   HELP WANTED - Dorm Supply 6:00AM-8:00AM   |
 +---------------------------------------------+
 |      HELP WANTED - Linens 5:30PM-7:00PM     |
 +---------------------------------------------+
 |    HELP WANTED - Dinner 1 5:00PM-7:00PM     |
 +---------------------------------------------+
 |       Richie - Dinner 2 5:00PM-7:00PM       |
 +---------------------------------------------+
 |        John - Dinner 3 5:00PM-7:00PM        |
 +---------------------------------------------+
 |     Maxamillion - Dinner 4 5:00PM-7:00PM    |
 +---------------------------------------------+
 |                                             |
 |                                             |
 |                                             |
 |                                             |
 |                                             |
 +---------------------------------------------+

 +---------------------------------------------+
 |                 Previous                    |
 +---------------------------------------------+
 |    Dinner - May 15, 2013  5:00PM-7:00PM     |
 +---------------------------------------------+
 |                   Next                      |
 +---------------------------------------------+
 |  Dorm Supply - May 21, 2013  5:00PM-7:00PM  |
 +---------------------------------------------+



 +---------------------------------------------+
 |                                             |
 |                                             |
 |         Please log into your shift          |
 |                                             |
 |        First Name [               ]         |
 |         Last Name [               ]         |
 |                                             |
 |                   [ OK ]                    |
 |                  [ Reset ]                  |
 |                                             |
 +---------------------------------------------+ 
 Check for all un-logged shifts starting/stopping within 1-2 hours from current time
 +---------------------------------------------+
 |                                             |
 |           Please verify your shift          |
 |                                             |
 |                Richie Zirbes                |
 |         Dorm Supply 5:00PM - 7:00PM         |
 |                                             |
 |                 [ Confirm ]                 |
 |                                             |
 |                 [ Cancel ]                  |
 |                                             |
 +---------------------------------------------+ 
 Check for all un-logged shifts starting within 1 hour of previous shift finish time
 +---------------------------------------------+
 |                                             |
 |   It appears you also have another shift.   |
 |   Would you like to log in for this too?    |
 |                                             |
 |         Dorm Supply 7:00PM - 8:30PM         |
 |                                             |
 |                   [ Yes ]                   |
 |                                             |
 |                   [ No ]                    |
 |                                             |
 +---------------------------------------------+
If no shifts are found (assigned to user) => show list of all shifts within the next day (and minus a few hours of current time)
If no user is found => refresh to login page with error "User not found"



PERMISSIONS:

ADMIN:
USERS_CREATE
USERS_READ
USERS_UPDATE
USERS_DELETE
EMAIL_SEND
SHIFT_CREATE

TERMINAL:
LOGIN_SCREEN


USER:





1024 bits / 4 = 256 chars
256 bits / 4 = 64 chars
         1         2         3         4         5         6
1234567890123456789012345678901234567890123456789012345678901234567890
0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF




NEW TABLE DESIGNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
mysqldump -u "richie" -p"qwerty" volunteering 
set @@session.time_zone='+06:00';

drop database volunteering;
create database volunteering;
mysql -h localhost -u richie -p'qwerty';
use volunteering;
# DROP ALL TABLES
drop table if exists users;
drop table if exists sessions;
drop table if exists groups;
drop table if exists positions;
drop table if exists shifts;
drop table if exists requests;
drop table if exists logs;
# USERS
drop table if exists users;
create table users(
id int not null auto_increment primary key,
group_id int,
created datetime,
created_user_id int, # creator
modified datetime,
modified_user_id int, # modifier
username varchar(32) not null,
password varchar(128) not null,
first_name varchar(32),
last_name varchar(32),
email varchar(64) not null,
phone varchar(32),
address varchar(64),
city varchar(64),
state varchar(64),
zip varchar(16),
preference_email_updates int, # 0=no 1=yes - user account changes
preference_email_shift_self int, # 0=no 1=yes - changes to self shifts
preference_email_shift_other int, # 0=no 1=yes - changes to any shift
preference_email_schedule int # 0=no 1=yes - scheduled shifts approaching
);
#SESSIONS
drop table if exists sessions;
create table sessions(
id int not null auto_increment primary key,
created date,
user_id int,
ip_remote varchar(32),
ip_forward varchar(32),
session_id varchar(64) #0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
);
# GROUPS
drop table if exists groups;
create table groups(
id int not null auto_increment primary key,
name varchar(32), # admin or user
info varchar(1024)
);
# SHIFTS
drop table if exists shifts;
create table shifts(
id int not null auto_increment primary key,
created datetime, # time created if parent | time assigned if child
parent_id int, # 0 if parent | shift id generator if child
user_id int, # creator if parent | owner if child
time_begin datetime, # start day if parent | start shift if child
time_end datetime, # start day if parent | start shift if child
algorithm varchar(2048), # string if parent | null if child
name varchar(32) # short title
);
# REQUESTS - AKA SWAPS
drop table if exists requests;
create table requests(
id int not null auto_increment primary key,
created datetime, # requested
shift_id int,
request_user_id int,
fulfill_user_id int,
fulfill_date datetime, # filled
approved_user_id int, # admin
approved_date datetime, # decided
info varchar(1024), # request reasoning explanation
status int # 0=opened, 1=answered, 2=approved, 3=denied, 4=empty
);
# LOGGING
drop table if exists logs;
create table logs(
id int not null auto_increment primary key,
created datetime, # 
user_id int, # session user
type varchar(32), # indexing criteria
info varchar(64) # extra info 
);

# GROUPS
insert into groups (name, info) values ("admin","CRUD - everything");
insert into groups (name, info) values ("user","staff member");
# USERS
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("richie","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","zirbsster@gmail.com", "Richie", "Zirbes", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="admin"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("tareva","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","tareva@bouldershelter.org", "TaReva", "", "5555555555", "123 Fake Street", "CO", "Boulder", "56789", (select id from groups where name="admin"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("chad","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","chad@bouldershelter.org", "Chad", "", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="admin"), now(), 1, now(), 1 );

insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("tim","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","tim@gmail.com", "Tim", "Zuckerberg", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("john","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","john.smith@gmail.com", "John", "Smith", "5555555555", "123 Fake Street", "WY", "Cheyenne", "56789", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("greg","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","gregg@yahoo.net", "Greg", "Garner", "3033335555", "123 Fake Street", "UT", "Salt Lake City", "12121", (select id from groups where name="user"), now(), 1, now(), 1 );

insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("sammy","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","zirbsster@gmail.com", "Richie", "Zirbes", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="admin"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("sosa","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","john.smith@gmail.com", "John", "Smith", "5555555555", "123 Fake Street", "WY", "Cheyenne", "56789", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("baco","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","gregg@yahoo.net", "Greg", "Garner", "3033335555", "123 Fake Street", "UT", "Salt Lake City", "12121", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("smash","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","zirbsster@gmail.com", "Richie", "Zirbes", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="admin"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("ingret","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","john.smith@gmail.com", "John", "Smith", "5555555555", "123 Fake Street", "WY", "Cheyenne", "56789", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("smalls","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","gregg@yahoo.net", "Greg", "Garner", "3033335555", "123 Fake Street", "UT", "Salt Lake City", "12121", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("supa","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","zirbsster@gmail.com", "Richie", "Zirbes", "5555555555", "123 Fake Street", "CO", "Boulder", "12345", (select id from groups where name="admin"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("minimum","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","john.smith@gmail.com", "John", "Smith", "5555555555", "123 Fake Street", "WY", "Cheyenne", "56789", (select id from groups where name="user"), now(), 1, now(), 1 );
insert into users (username, password, email, first_name, last_name, phone, address, state, city, zip, group_id, created, created_user_id, modified, modified_user_id) values ("maximum","0DD3E512642C97CA3F747F9A76E374FBDA73F9292823C0313BE9D78ADD7CDD8F72235AF0C553DD26797E78E1854EDEE0AE002F8ABA074B066DFCE1AF114E32F8","gregg@yahoo.net", "Greg", "Garner", "3033335555", "123 Fake Street", "UT", "Salt Lake City", "12121", (select id from groups where name="user"), now(), 1, now(), 1 );





REQUEST:
1) CREATE REQUEST
	- requestee & shift
2) FULFILL REQUEST
	- requester
3) APPROVE REQUEST
	- admin
A) DELETE REQUEST
	- admin 



select id,created,parent_id,created_user_id,modified_user_id,position_id,time_begin,time_end from shifts where time_begin between "2013-07-10" and "2013-07-15" and parent_id!=0;
select id,created,parent_id,created_user_id,modified_user_id,position_id,time_begin,time_end from shifts where time_begin between "2013-07-10" and "2013-07-15" and parent_id!=0;





select * from users where modified >'2013-09-03';

SELECT * FROM players WHERE DATE(us_reg_date) BETWEEN '2000-07-05' AND '2011-11-10'

SELECT * FROM players WHERE us_reg_date >= '2000-07-05' AND us_reg_date < '2011-11-10' + interval 1 day

select * from players where  us_reg_date between '2000-07-05' and DATE_ADD('2011-11-10',INTERVAL 1 DAY)


TODO-----------
send email
large calendar
mini calendar
vertical calendar
viewing pages
editing/updating pages
deleting
login screen



NEW TODO-----------
*) allow non-login viewing = rearrange index.php code
*) replace all display data with Code.escapeHTML() && encode/decode;
*) day view
*) month view
*) statistics page
*) logging date (log in/out | updates | etc ...)

*) 
remove all console.log() and replace errors with alert()s





NEWEST TODO-----------
x) no 'Day'
x) ignore assignment conflicts and old-date-swaps (empty)
x) unite/consolidate shifts & positions
x) no dates inside calendars - clean up - shifts are on left
x) swap columns "Requested By", "Filled By", "Approved By", remove "owner"
x) add reason to shift swap
x) adjusted timezone times
x) swap ordering: closest in future coming up - shift.begin_time
x) users only see open shifts in SWAP LIST
x) add user column: recieve notifivations of swaps
x) send emails on:
	x) swap made
	x) swap filled
	x) swap approved
	- send user email on
		x user created
		x password changed
		x username changed
		x email changed
	- EMAIL THREADING
	ignore_user_abort(true); 
	set_time_limit(0);
*) encode/decode all data in url
x) no visuals unless logged in
	*) no data on server side either
x) LEGEND FOR SHIFT COLORS
*) check on deleting shifts still works
*) 

http://www.cs.wcupa.edu/~rkline/php/sessions.html
http://www.wikihow.com/Create-a-Secure-Login-Script-in-PHP-and-MySQL#Create_PHP_Functions








// select groups.name, users.username, users.id   from users   inner join groups   on   users.group_id=groups.id;


select id,created,modified,shift_id,request_created_user_id,modified_user_id,fulfill_created_user_id,modified_user_id,approved_created_user_id,modified_user_id,info,status   from requests   order by approved_user_id asc, created desc;