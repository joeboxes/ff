YAML.COMMENT="#";YAML.SEPARATOR=":";YAML.INDENT="\t";YAML.SPACE=" ";YAML.STRING_MULTILINE=">";YAML.REFERENCE_DEFINE="&";YAML.REFERENCE_VALUE="*";YAML.ARRAY_SEPARATOR="-";YAML.DOCUMENT_SEPARATOR="---";YAML.IGNORE="...";YAML.NEWLINE="\n";YAML.NULL="null";YAML.REFERENCE_SUFFIX="ref";YAML.STACK_UNKNOWN=0;YAML.STACK_OBJECT=1;YAML.STACK_ARRAY=2;function YAML(){this._lines=new Array();this._lineNumber=0;this._indent=0;this._stack=new Array();this._documents=new Array();this._references=new Object();this._refCount=0}YAML.parse=function(a){return new YAML().parse(a)};YAML.prototype.parse=function(a){return this._parse(a)};YAML.prototype._addRefenceTableReference=function(c,a,b){if(this._references[c]===undefined){this._references[c]={ref:a,list:[]}}this._references[c].list.push([a,b])};YAML.prototype._addRefenceTableDefinition=function(b,a){if(this._references[b]===undefined){this._references[b]={ref:a,list:[]}}else{this._references[b].ref=a}};YAML.prototype._fillInReferences=function(){var c,g,a,b,e,d,f=this._references;for(c in f){d=f[c];e=d.ref;list=d.list;while(list.length>0){a=list.pop();g=a[0];b=a[1];g[b]=e;delete a[0];delete a[1]}d.ref=null;d.list=null;f[c]=null;delete f[c]}};YAML.prototype.newRefenceObject=function(b,a){this._addRefenceTableDefinition(b,a)};YAML.prototype._newReferenceHash=function(){return YAML.REFERENCE_SUFFIX+""+(this._refCount++)};YAML.prototype._lookupReferenceFromObject=function(a){var b,c=this._references;for(b in c){if(c[b].ref==a){return b}}b=this._newReferenceHash();this._addRefenceTableDefinition(b,a);return b};YAML.prototype._thisLine=function(){if(this._lineNumber<this._lines.length){return this._removeComment(this._lines[this._lineNumber])}return null};YAML.prototype._nextLine=function(){if((this._lineNumber+1)<this._lines.length){return this._removeComment(this._lines[this._lineNumber+1])}return null};YAML.prototype._gotoNextLine=function(){++this._lineNumber;var a=this._thisLine();while(a!=null&&this._removeLeadingAndTrailingWhitespace(a)==""){++this._lineNumber;a=this._thisLine()}};YAML.prototype._parse=function(b){this._documents=new Array();this._references=new Object();this._lines=b.split(YAML.NEWLINE);this._lineNumber=0;this._indent=0;var a;while(this._thisLine()!=null){if(this._removeLeadingAndTrailingWhitespace(this._thisLine())==YAML.IGNORE){break}a=new Object();this._documents.push(a);this._parseNextItem(a,0);if(this._thisLine()!=null&&this._removeLeadingAndTrailingWhitespace(this._thisLine())==YAML.DOCUMENT_SEPARATOR){this._gotoNextLine()}}this._fillInReferences();return this._documents};YAML.prototype._countLineIndents=function(e){if(e==null){return -1}var b,c,d=0,a=e.length;for(b=0;b<a;++b){c=e.charAt(b);if(c==YAML.INDENT){++d}}return d};YAML.prototype._isLineArrayItem=function(d){var b,c,a=d.length;for(b=0;b<a;++b){c=d.charAt(b);if(c==YAML.INDENT){}else{if(c==YAML.ARRAY_SEPARATOR){return true}else{return false}}}return false};YAML.prototype._isNextItemArrayItem=function(b){b=(b!==undefined)?b:this._lineNumber;var c,a;for(c=b;c<this._lines.length;++c){a=this._removeLeadingAndTrailingWhitespace(this._removeComment(this._lines[c]));if(a!=""){return this._isLineArrayItem(a)}}return false};YAML.prototype._parseNextItem=function(t,p){var m,n,c,j,u,h,a,k,d,b,s;var e,r;var l=Code.isArray(t);a=this._thisLine();if(a!=null){e=this._countLineIndents(a);r=e;while(r>=e){a=this._thisLine();var o=this._removeLeadingAndTrailingWhitespace(this._thisLine());if(o==YAML.DOCUMENT_SEPARATOR){return t}else{if(o==YAML.IGNORE){return t}}r=this._countLineIndents(a);k=this._isLineArrayItem(a);a=this._removeLeadingAndTrailingWhitespace(a);if(k){a=a.substring(1,a.length);a=this._removeLeadingAndTrailingWhitespace(a)}else{}m=a.indexOf(YAML.SEPARATOR);if(m>0){u=a.substring(0,m);h=a.substring(m+1,a.length);s=true}else{u="";h=a;s=false}u=this._removeLeadingAndTrailingWhitespace(u);h=this._removeLeadingAndTrailingWhitespace(h);this._gotoNextLine();if(u==""&&h==""){if(k){b=this._isNextItemArrayItem();if(b){d=new Array()}else{d=new Object()}if(l){t.push(d);this._parseNextItem(d)}else{console.log("ERROR - ARRAY ITEM IS LISTED FOR OBJECT PARENT")}}else{}}else{var g=false;var f=false;var q=null;if(h.charAt(0)==YAML.REFERENCE_DEFINE){q=h.substring(1,h.length);f=true;h=""}else{if(h.charAt(0)==YAML.REFERENCE_VALUE){q=h.substring(1,h.length);g=true;h=""}}if(h==""){if(l){if(g){u=t.length;this._addRefenceTableReference(q,t,u)}else{if(f){console.log("Can you define an object as an array item?")}else{h=this._getTerminal(u);t.push(h)}}}else{b=this._isNextItemArrayItem();if(b){d=new Array()}else{d=new Object()}if(g){this._addRefenceTableReference(q,t,u)}else{t[u]=d;this._addRefenceTableDefinition(q,d);this._parseNextItem(d)}}}else{h=this._getTerminal(h);if(k){t.push(h)}else{t[u]=h}}}r=this._countLineIndents(this._thisLine())}}return t};YAML.prototype._getTerminal=function(a){if(a=="true"||a=="false"){if(a=="true"){a=true}else{a=false}}else{if(a==YAML.NULL){return null}else{if(!isNaN(a)){if(a.indexOf(".")>=0){a=parseFloat(a)}else{a=parseInt(a)}}else{if(a.length>1&&a.charAt(0)=='"'&&a.charAt(a.length-1)=='"'){a=a.substr(1,a.length-2);a=this._cleanUpString(a)}else{a=this._cleanUpString(a)}}}}return a};YAML.prototype._cleanUpString=function(a){return a.replace(/\\n/g,"\n")};YAML.prototype._removeLeadingAndTrailingWhitespace=function(a){return this._removeTrailingWhitespace(this._removeLeadingWhitespace(a))};YAML.prototype._removeLeadingWhitespace=function(a){return a.replace(/^[ \t]+/,"")};YAML.prototype._removeTrailingWhitespace=function(a){return a.replace(/[ \t]+$/,"")};YAML.prototype._removeComment=function(a){return a.replace(/#.*/g,"")};YAML.prototype._stackIsObject=function(){return this._stack[this._stack.length-1]==YAML.STACK_OBJECT};YAML.prototype._stackIsArray=function(){return this._stack[this._stack.length-1]==YAML.STACK_ARRAY};YAML.prototype._prefixIndent=function(b){var a=(b!==undefined)?b:this._indent;var c="";for(;a--;){c+=YAML.INDENT}return c};YAML.prototype.startWrite=function(){this._lines=new Array();this._stack=new Array();this._references=new Array();this._refCount=0;this._stack.push(YAML.STACK_OBJECT);this._indent=0};YAML.prototype.separateDocument=function(){this._lines[this._lineNumber++]=YAML.DOCUMENT_SEPARATOR};YAML.prototype.writeDocument=function(){this.separateDocument()};YAML.prototype.writeBlank=function(){this._lines[this._lineNumber++]=""};YAML.prototype.writeIgnore=function(){this._lines[this._lineNumber++]=YAML.IGNORE};YAML.prototype.writeComment=function(a){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.COMMENT+" "+a};YAML.prototype.writeNull=function(a){if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.SPACE+YAML.NULL}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.SPACE+YAML.NULL}};YAML.prototype.writeBoolean=function(a,b){if(b===undefined){b=a;a=null}if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.SPACE+(b===true)}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.SPACE+(b===true)}};YAML.prototype.writeNumber=function(a,b){if(b===undefined){b=a;a=null}if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.SPACE+b}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.SPACE+b}};YAML.prototype.writeString=function(a,c){if(c===undefined){c=a;a=null}if(false){arr=c.split("\n");console.log(arr);if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.INDENT+arr[0]}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.INDENT+arr[0]}this._indent++;for(var b=1;b<arr.length;++b){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.INDENT+arr[b]}this._indent--}else{c=c.replace(/\n/g,"\\n");if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.SPACE+'"'+c+'"'}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.SPACE+'"'+c+'"'}}};YAML.prototype.writeObjectReference=function(a,b){if(!Code.isString(b)){b=this._lookupReferenceFromObject(b)}if(this._stackIsArray()){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+YAML.SPACE+YAML.REFERENCE_VALUE+b}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+YAML.SPACE+YAML.REFERENCE_VALUE+b}};YAML.prototype.writeObjectStart=function(a,b){if(b!==undefined&&!Code.isString(b)){b=this._lookupReferenceFromObject(b)}if(this._stackIsArray()){if(b!==undefined){this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR+((b!==undefined)?(YAML.SPACE+YAML.REFERENCE_DEFINE+b):"")}else{this._lines[this._lineNumber++]=this._prefixIndent()+YAML.ARRAY_SEPARATOR}}else{this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR+((b!==undefined)?(YAML.SPACE+YAML.REFERENCE_DEFINE+b):"")}this._stack.push(YAML.STACK_OBJECT);this._indent++};YAML.prototype.writeObjectEnd=function(a){this._indent--;this._stack.pop()};YAML.prototype.writeArrayStart=function(a){this._lines[this._lineNumber++]=this._prefixIndent()+a+YAML.SEPARATOR;this._stack.push(YAML.STACK_ARRAY);this._indent++};YAML.prototype.writeArrayEnd=function(a){this._indent--;this._stack.pop()};YAML.prototype.writeReferenceObject=function(b,a){};YAML.prototype.writeReferenceString=function(b,a){};YAML.prototype.toString=function(){var b="";for(var a=0;a<this._lines.length;++a){b=b+this._lines[a]+"\n"}return b};