% surfD.m









% start
hold off;
del = 0.1; 













countX = 11;
countY = 11;
x = [-0.44332863693604146,-0.44233634648714737,-0.4418177764051058,-0.44177292668991675,-0.44220179734158027,-0.4431043883600964,-0.44448069974546506,-0.44633073149768626,-0.4486544836167601,-0.4514519561026864,-0.4547231489554653,-0.44165720704046785,-0.4404520532155136,-0.4397206197574119,-0.4394629066661627,-0.43967891394176617,-0.4403686415842221,-0.4415320895935307,-0.44316925796969175,-0.44528014671270544,-0.4478647558225716,-0.4509230852992904,-0.4400517124178724,-0.43863369521685797,-0.43768939838269616,-0.43721882191538686,-0.43722196581493017,-0.43769883008132604,-0.4386494147145744,-0.4400737197146754,-0.44197174508162895,-0.44434349081543506,-0.44718895691609367,-0.43851215306825503,-0.43688127249118053,-0.43572411228095853,-0.43504067243758915,-0.4348309529610723,-0.43509495385140806,-0.43583267510859636,-0.4370441167326372,-0.43872927872353057,-0.44088816108127654,-0.4435207638058751,-0.4370385289916158,-0.4351947850384812,-0.4338247614521991,-0.4329284582327696,-0.43250587538019264,-0.43255701289446824,-0.4330818707755964,-0.4340804490235771,-0.4355527476384104,-0.43749876662009624,-0.43991850596863463,-0.4356308401879547,-0.43357423285875996,-0.4319913458964178,-0.43088217930092815,-0.43024673307229105,-0.4300850072105065,-0.43039700171557455,-0.43118271658749513,-0.43244215182626833,-0.43417530743189403,-0.4363821834043723,-0.43428908665727184,-0.43201961595201693,-0.4302238656136146,-0.4289018356420648,-0.4280535260373676,-0.42767893679952296,-0.42777806792853085,-0.42835091942439135,-0.42939749128710436,-0.43091778351667,-0.4329117961130881,-0.433013268399567,-0.430530934318252,-0.42852232060378953,-0.42698742725617966,-0.4259262542754223,-0.42533880166151755,-0.4252250694144653,-0.4255850575342657,-0.42641876602091855,-0.42772619487442404,-0.4295073440947821,-0.43180338541484037,-0.42910818795746525,-0.42688671086694263,-0.42513895414327263,-0.4238649177864552,-0.42306460179649025,-0.4227380061733779,-0.42288513091711816,-0.4235059760277109,-0.42460054150515625,-0.42616882734945416,-0.43065943770309184,-0.4277513768696566,-0.4253170364030739,-0.42335641630334375,-0.4218695165704661,-0.4208563372044411,-0.42031687820526864,-0.42025113957294874,-0.4206591213074814,-0.4215408234088666,-0.4228962458771044,-0.42958142526432147,-0.4264605010548261,-0.42381329721218325,-0.421639813736393,-0.41994005062745526,-0.4187140078853701,-0.4179616855101375,-0.4176830835017575,-0.41787820186023,-0.4185470405855551,-0.4196895996777328];
y = [0.4230775605173494,0.42428521614044545,0.4258361294298685,0.42773030038561843,0.42996772900769537,0.4325484152960993,0.4354723592508301,0.4387395608718879,0.4423500201592727,0.44630373711298443,0.4506007117330231,0.4251625403593563,0.4262159552302585,0.4276126277674877,0.4293525579710438,0.4314357458409269,0.433862191377137,0.436631894579674,0.439744855448538,0.44320107398372893,0.4470005501852468,0.4511432840530917,0.4272952968846446,0.42819447100335306,0.4294369027883884,0.4310225922397507,0.43295153935743996,0.4352237441414562,0.4378392065917994,0.44079792670846957,0.44409990449146663,0.4477451399407907,0.4517336330564417,0.4294758300932145,0.4302207634597291,0.4313089544925706,0.43274040319173906,0.43451510955723455,0.4366330735890569,0.4390942952872063,0.4418987746516826,0.4450465116824859,0.4485375063796161,0.4523717587430733,0.43170413998506585,0.4322948325993866,0.4332287828800343,0.43450599082700897,0.43612645644031056,0.43809017971993913,0.4403971606658946,0.4430473992781771,0.44604089555678655,0.449377649501723,0.45305766111298634,0.4339802265601987,0.4344166784223256,0.4351963879507795,0.4363193551455603,0.43778558000666806,0.4395950625341028,0.4417478027278645,0.44424380058795315,0.44708305611436877,0.4502655693071113,0.45379134016618083,0.436304089818613,0.4365863009285461,0.43721176970480613,0.43818049614739313,0.4394924802563071,0.441147722031548,0.44314622147311583,0.4454879785810107,0.4481729933552325,0.4512012657957812,0.45457279590265687,0.4386757297603089,0.4388037001180481,0.43927492814211433,0.4400894138325075,0.4412471571892276,0.44274815821227465,0.4445924169016487,0.44677993325734966,0.4493107072793776,0.45218473896773254,0.4554020283224144,0.4410951463852862,0.4410688759908316,0.44138586326270396,0.4420461082009033,0.4430496108054296,0.4443963710762828,0.44608638901346304,0.44811966461697017,0.4504961978868043,0.4532159888229654,0.4562790374254534,0.44356233969354497,0.44338182854689656,0.44354457506657513,0.4440505792525806,0.44489984110491304,0.4460923606235725,0.44762813780855887,0.44950717265987217,0.45172946517751245,0.4542950153614797,0.45720382321177394,0.4460773096850853,0.44574255778624305,0.44575106355372773,0.4461028269875394,0.44679784808767803,0.44783612685414365,0.4492176632869362,0.45094245738605565,0.4530105091515021,0.4554218185832755,0.4581763856813759];
z = [-0.9161341042739817,-0.9195438301246408,-0.9222742527550818,-0.9243253721653044,-0.9256971883553089,-0.9263897013250951,-0.926402911074663,-0.9257368176040127,-0.9243914209131442,-0.9223667210020575,-0.9196627178707525,-0.9133214405109717,-0.9170364071470016,-0.9200720705628133,-0.9224284307584066,-0.9241054877337818,-0.9251032414889386,-0.9254216920238773,-0.9250608393385977,-0.9240206834330998,-0.9223012243073838,-0.9199024619614495,-0.9104142272069371,-0.9144344346283376,-0.9177753388295199,-0.920436939810484,-0.9224192375712298,-0.9237222321117574,-0.9243459234320668,-0.9242903115321579,-0.9235553964120308,-0.9221411780716854,-0.9200476565111217,-0.9074124643618775,-0.9117379125686488,-0.9153840575552018,-0.9183508993215366,-0.9206384378676531,-0.9222466731935514,-0.9231756052992314,-0.9234252341846931,-0.9229955598499368,-0.9218865822949621,-0.9200983015197691,-0.9043161519757932,-0.9089468409679351,-0.9128982267398588,-0.9161703092915643,-0.9187630886230514,-0.9206765647343205,-0.9219107376253712,-0.9224656072962036,-0.9223411737468179,-0.921537436977214,-0.9200543969873918,-0.9011252900486839,-0.9060612198261966,-0.910317846383491,-0.9138951697205672,-0.9167931898374251,-0.9190119067340647,-0.9205513204104862,-0.9214114308666894,-0.9215922381026743,-0.9210937421184411,-0.9199159429139895,-0.8978398785805499,-0.9030810491434333,-0.9076429164860984,-0.9115254806085452,-0.9147287415107739,-0.9172526991927842,-0.9190973536545763,-0.9202627048961503,-0.9207487529175059,-0.9205554977186433,-0.9196829392995625,-0.8944599175713912,-0.9000063289196452,-0.904873437047681,-0.9090612419554985,-0.9125697436430978,-0.9153989421104789,-0.9175488373576417,-0.9190194293845863,-0.9198107181913127,-0.9199227037778207,-0.9193553861441106,-0.8909854070212075,-0.8968370591548323,-0.9020094080682387,-0.906502453761427,-0.910316196234397,-0.9134506354871488,-0.9159057715196822,-0.9176816043319975,-0.9187781339240946,-0.9191953602959734,-0.9189332834476339,-0.887416346929999,-0.8935732398489945,-0.8990508295477717,-0.9038491160263306,-0.9079680992846713,-0.9114077793227937,-0.914168156140698,-0.916249229738384,-0.9176510001158517,-0.9183734672731012,-0.9184166312101324,-0.8837527372977658,-0.8902148710021319,-0.8959977014862798,-0.9011012287502094,-0.9055254527939208,-0.9092703736174139,-0.9123359912206889,-0.9147223056037456,-0.916429316766584,-0.9174570247092042,-0.9178054294316061];
px = [-0.43672970298538183,-0.43103072188495095,-0.4363276674044211,-0.43318438823816974,-0.43781618884308454,-0.43815265142879795,-0.43597326119114144,-0.43099518442316,-0.44070746133945216,-0.4440027516014393,-0.42755876538653365,-0.4380930600278529,-0.427302404437987,-0.43881302059957067,-0.4313107923339794,-0.4386175094551818,-0.4338185505119345,-0.43705047702710115,-0.43108256708103987,-0.44541201984002426,-0.42996742591586945,-0.43699997179414835,-0.4253751411500264,-0.42522186792275807,-0.4333569975226741,-0.4240722168734942,-0.4394347081724002,-0.43880826841958054,-0.4237040219771661,-0.42443814359123333,-0.44747250868023997,-0.4308061301552896,-0.4354297906679319,-0.44186805629050946,-0.4339545227979415,-0.42564860291579726,-0.4246300907359302,-0.4331101536332101,-0.4490848460560913,-0.42126172126975375,-0.42218042516741583,-0.4241122990838171,-0.4278433407721931,-0.4304745576153186,-0.4159978364810313,-0.4182834249085127,-0.4175968310262757,-0.4170055227587325,-0.41772576802111927,-0.42036714561689215];
py = [0.4332460395528857,0.4365372420191127,0.44075846151671716,0.44150372079085626,0.43879277032048275,0.4414338553637695,0.4351745538878572,0.42703384087697693,0.4263541238274203,0.4390031407140682,0.4404518078156465,0.4440574536301064,0.4413410055791564,0.4286747109986915,0.44478265794109456,0.44525815862867174,0.4457899314684415,0.44569034525492407,0.4456120551844878,0.4420985700604907,0.44578804708426684,0.44261013916673736,0.4428832749215529,0.44419332291357794,0.4480912550895784,0.4445943867539621,0.44894670992727087,0.4503035253346842,0.4461023714734573,0.4480494444684381,0.447449927272333,0.4517188853419078,0.45288506984144916,0.4310270067406024,0.45298913929737966,0.4474650715316193,0.449578802598403,0.45383341286073475,0.4486619598542052,0.4461415799842754,0.4481823224757292,0.45099499344076477,0.45421703035298827,0.44247860440783204,0.44490580542975083,0.4487066249400761,0.4514117046524457,0.45046066972270066,0.45130976477606216,0.45306004410079087];
pz = [-0.9213851147461427,-0.9164493720392053,-0.9252899300283968,-0.9229618140018947,-0.9280208296635684,-0.9243875699580022,-0.9132054535968097,-0.9170353132333269,-0.9252302253551805,-0.9228089600507163,-0.9245326287601594,-0.9199200985154863,-0.921869056535121,-0.9125148166872554,-0.9217273155451888,-0.9223576391503912,-0.9212554453692534,-0.9205102708828166,-0.9207733433265479,-0.923140693642513,-0.9217673837795655,-0.9327100775462382,-0.9180181424678517,-0.9209804285745746,-0.9205014987897846,-0.9191324369801492,-0.9196503441628655,-0.919912356905378,-0.9197758775599897,-0.9190165480287442,-0.9188873497677299,-0.9194551264182185,-0.9212356200256306,-0.9039918208596782,-0.920084621191302,-0.9116262348418622,-0.9153335768233685,-0.9207942515050582,-0.9193945951349971,-0.9137075191709656,-0.9152104796596532,-0.917195015652773,-0.9193693264905112,-0.9009853271443391,-0.9150795314717115,-0.9135778752930112,-0.9174401844042102,-0.916008886614498,-0.9150079746113055,-0.9128226059257818];

% original point 
ox =-0.43729824154641894;
oy =0.42813550815245144;
oz =-0.9254633993343125;
% projected point 
fx =-0.4348240997401983;
fy =0.4340645700783162;
fz =-0.9201360263963734;
% local plane normal 
nx =0.5284183152125053;
ny =-0.38289178683491293;
nz =-0.7577387173177467;

% surface normal 
sx =0.730055344817098;
sy =-0.5276769502037325;
sz =-0.43425364676381895;
curvature = 100;






















tx = reshape(x, countX,countY);
ty = reshape(y, countX,countY);
tz = reshape(z, countX,countY);

mesh(tx, ty, tz);

hold on;
% neighborhood points
plot3(px,py,pz, 'r*');
% original point
plot3(ox,oy,oz, 'bo');
% projected point
plot3(fx,fy,fz, 'b*');


% normal
% plot3([ox,ox+del*nx],[oy,oy+del*ny],[oz,oz+del*nz], 'k-*');
% plot3([fx,fx+del*sx],[fy,fy+del*sy],[fz,fz+del*sz], 'k-*');





axis equal;































%

% ...