% surfD.m









% start
hold off;
del = 0.1; 










countX = 11;
countY = 11;
x = [-0.5640517074121982,-0.5453116892559908,-0.5266990793899591,-0.5082061600904321,-0.4898252136337386,-0.4715485222962078,-0.45336836835416877,-0.43527703408395035,-0.4172668017618815,-0.39932995366429147,-0.3814587720675091,-0.5698337811215094,-0.5513265347406094,-0.5329289891028486,-0.514633426484556,-0.49643212916206064,-0.4783173794116914,-0.4602814595097774,-0.4423166517326476,-0.424415238356631,-0.40656950165805655,-0.38877172391325343,-0.5756165193985587,-0.5573125981949497,-0.5391006701874435,-0.5209730176523688,-0.502921922866055,-0.48493966810483086,-0.4670185356450255,-0.4491508077629678,-0.4313287667349869,-0.4135446948374117,-0.3957908743465713,-0.5814463089842055,-0.563316266359871,-0.5452605093846027,-0.5272713203347297,-0.5093409814865809,-0.49146177511648537,-0.4736259835007722,-0.4558258889157702,-0.43805377363780845,-0.4203019199432161,-0.40256261010832195,-0.5873695366193089,-0.5693839259762323,-0.5514548934351856,-0.5335747212724977,-0.5157356917644975,-0.4979300871875142,-0.48015018981787666,-0.46238828193191395,-0.444636645805955,-0.4268875637163289,-0.40913331793936464,-0.5934325890447281,-0.5755619637848931,-0.5577302090800514,-0.5399296072065322,-0.5221524404406642,-0.5043909910587766,-0.4866375413371983,-0.4688843735522583,-0.4511237699802857,-0.43334801289760944,-0.41554938458055857,-0.5996818530013223,-0.5818967665267124,-0.5641328430600594,-0.5463823648776923,-0.52863761425594,-0.5108908734711317,-0.4931344247995962,-0.4753605505176625,-0.45756153290165974,-0.4397296542279169,-0.4218571967727629,-0.6061637152299507,-0.5884347209425496,-0.5707091821160688,-0.5529793810268373,-0.5352375999511844,-0.5174761211654387,-0.49968722694592954,-0.48186319956898577,-0.4639963213109364,-0.4460788744481104,-0.4281031412568369,-0.6129245624714728,-0.5952222137732637,-0.5775056129889387,-0.5597670423948264,-0.5419987842672562,-0.524193120882557,-0.5063423345170577,-0.4884387074470873,-0.47047452194897477,-0.4524420602990493,-0.4343336047736398,-0.6200107814667474,-0.6023056317597141,-0.5845685224195283,-0.566791735722519,-0.5489675539450151,-0.5310882593633456,-0.5131461342538397,-0.4951334608928262,-0.47704252155663424,-0.45886559852159275,-0.4405949740640308,-0.627468758956634,-0.60973136164276,-0.5919442971486969,-0.5740998477507739,-0.5561902957253199,-0.5382079233486639,-0.5201450128971349,-0.5019938466470619,-0.48374670687477395,-0.46539587585659997,-0.4469336358688691];
y = [0.090891798561586,0.08923109939113966,0.08696199502026086,0.08412133943396469,0.08074598661726626,0.0768727905551807,0.07253860523272315,0.06778028463490868,0.0626346827467524,0.057138653553269456,0.05132905103947496,0.08389349305924662,0.0811212527291498,0.077825164990653,0.07404208382877134,0.06980886322851991,0.06516235717491385,0.06013941965296827,0.05477690464769828,0.04911166614411898,0.04318055812724551,0.037020434582092976,0.07689201408626901,0.07314884717775155,0.06896639065286661,0.06438149849662927,0.05943102469405469,0.054151823230157964,0.048580748089954204,0.042754653258458536,0.03671039272068605,0.030484820461651893,0.024114790466371168,0.06966585380881476,0.06509237490310651,0.06016416417306324,0.05491807560370011,0.049390963180032194,0.043619680887074644,0.03764108270984255,0.03149202263335105,0.02520935464261522,0.018829932722650215,0.012390610858471136,0.06199350439304548,0.05673032807137625,0.051196977717404515,0.045430307316145405,0.03946717085261402,0.03334442231182548,0.0270989156787949,0.020767504938537396,0.014387044076068063,0.007994387076402052,0.0016263879245544607,0.05365345800512275,0.0478411988487224,0.041843323452052036,0.03569668580012679,0.02943813987796176,0.02310453967057208,0.016732739162972854,0.010359592340179196,0.004021953187206204,-0.0022433243109309733,-0.00839938616921724,0.04442420681120818,0.03820347940130654,0.03188169354316739,0.025495703221805853,0.01908236242223703,0.01267852512947604,0.006321045328538007,0.00004677700443803459,-0.006107425857808772,-0.012104709273187277,-0.017908219256682373,0.03408424297746335,0.02759566189529027,0.021090580156912175,0.014605851747344186,0.008178330651601402,0.001844870854698956,-0.004357673658348049,-0.010392448902524491,-0.016222600892815277,-0.021811275644205264,-0.027121619171679344,0.02241205867004985,0.015796238496835174,0.009248475459447975,0.0028056235429033786,-0.003495463267783522,-0.00961793098759759,-0.015524925631523717,-0.021179593214546794,-0.02654507975165172,-0.031584531257823345,-0.03626109374804658,0.009186146055129315,0.002583701372102884,-0.0038661283830635808,-0.010126489225354945,-0.01616052716975612,-0.021931388231251972,-0.02740221842482738,-0.032536163765467245,-0.03729637026815647,-0.041645983947879904,-0.04554815081962243,-0.005815002701136676,-0.01226345731274503,-0.018474739204460917,-0.02441199439126921,-0.030038368888154816,-0.035317008710102606,-0.040211059872097464,-0.04468366838912426,-0.04869798027616796,-0.05221714154821334,-0.05520429822024533];
z = [-0.15453649136125902,-0.1480481713063928,-0.14201732279009582,-0.13641623459422714,-0.13121719550064576,-0.12639249429121074,-0.12191441974778117,-0.11775526065221606,-0.11388730578637447,-0.11028284393211549,-0.10691416387129812,-0.1354002020779028,-0.1297476711387885,-0.12448903111271356,-0.11959657078153703,-0.11504257892711794,-0.11079934433131537,-0.10683915577598835,-0.10313430204299595,-0.09965707191419719,-0.09637975417145117,-0.0932746375966169,-0.11626629898798223,-0.11134382636420137,-0.10675166402793,-0.10246210076102716,-0.09844742534535192,-0.09467992656276332,-0.0911318931951204,-0.08777561402428223,-0.08458337783210784,-0.08152747340045632,-0.0785801895111867,-0.09730133807997202,-0.09300319297110612,-0.08897177752421986,-0.08517938052117227,-0.0815982907438224,-0.0782007969740293,-0.07495918799365203,-0.07184575258454963,-0.06883277952858115,-0.06589255760760566,-0.0629973756034822,-0.07867187534234683,-0.07489232694797747,-0.07131592759005786,-0.06791496605044704,-0.06466173111100408,-0.061528511553588024,-0.05848759616005793,-0.05551127371227284,-0.052571832992091796,-0.04964156278137388,-0.04669275186197813,-0.06054446676358147,-0.05717778428329015,-0.053950670213918715,-0.05083541333732622,-0.0478043024353717,-0.04482962628991422,-0.04188367368281284,-0.03893873339592659,-0.035967094211114534,-0.03294104491023573,-0.02983287427514923,-0.04308566833215059,-0.04002612096551886,-0.03704256138427714,-0.034107278370284495,-0.031192560705399962,-0.028270697171482603,-0.025313976550391463,-0.022294687623985607,-0.019185119174124063,-0.015957559982665903,-0.012584298831470185,-0.02646203603652891,-0.023603892983138305,-0.02075815708960784,-0.017897117137796584,-0.014993061909563565,-0.012018280186767864,-0.00894506075126851,-0.005745692384924568,-0.002392463869595081,0.0011423360128608936,0.004886418480584291,-0.010840125865191147,-0.008077656324623199,-0.005264013318385531,-0.0023714856283371874,0.000627637963662761,0.0037610686757552775,0.0070565177260813045,0.010541696332781791,0.014244315713997702,0.018192087087869943,0.022412721672539493,0.003613506193387968,0.006386033021551718,0.00927331394091506,0.01230306016961892,0.015502982925804293,0.018900793427612084,0.022524202893183243,0.026400922540658747,0.03055866358817952,0.03502513725388651,0.039828054755920675,0.01673230415073372,0.019620619066911746,0.022687268699819213,0.025959964267597085,0.029466416988386313,0.033234338080327844,0.037291438761562615,0.041665430250231575,0.04638402376447569,0.05147493052243589,0.05696586174225311];
px = [-0.5083798029965485,-0.515019121080049,-0.4736524828999517,-0.45778206270399024,-0.44924452770061085,-0.4380028735728652,-0.6253064548851675,-0.5963646068971843,-0.567620172654073,-0.5667304492893708,-0.5317174753812708,-0.5565114204246977,-0.5324524845082517,-0.49716606082018716,-0.4513616122620958,-0.44076512875516993,-0.4462740341427891,-0.4317772933336148,-0.4287306166879957,-0.5217872781343351,-0.5110099985194811,-0.6043146498473396,-0.5732556458354496,-0.5895983684118316,-0.5755910328342297,-0.550368629600146,-0.5427024480317577,-0.5624850808738175,-0.5573981154872026,-0.5027198058229494,-0.47043466491787156,-0.49367919509889807,-0.4769695983462623,-0.47985772860295783,-0.4556173724024696,-0.45919482980876714,-0.43970953493334436,-0.46150083274387654,-0.4989056532035811,-0.454041933721788,-0.4596581329338798,-0.44891442441817064,-0.42257818282018567,-0.4257989331772049,-0.4095188967520055,-0.41131265437206704,-0.4203909048853579,-0.43031890313914267,-0.6202624104040932,-0.5599828912390246];
py = [-0.00753593258767166,-0.016575418730335238,-0.014370268669250626,-0.011328918245432529,-0.01577398235733867,-0.009599503874449536,-0.0037604719923547483,-0.018665122091785315,-0.016424358264928877,-0.0034027254738841876,-0.047857185616805735,-0.024372254344245448,-0.016130024997469523,-0.021149286700361973,-0.04130363594174364,-0.023507184955667434,-0.004669075432844363,-0.03977002267282732,-0.027431084501319418,0.07019051048948365,0.08517652715118595,0.012426111969414915,0.010075178220166832,0.0375944992717809,0.04892160058818007,0.06186686266617268,0.05937774827507033,0.06781388913124922,0.07610109094993114,0.06660573817886528,0.022536277942394323,0.05721653377562329,0.05849471100555845,0.06065585009185668,0.011020792879378488,0.02424826363105577,0.030438694217453696,0.04440539529272587,0.015941297340484877,0.011055042456816362,0.010024588410510252,0.06726858122876549,0.021650509872043807,0.03288587127823703,0.003169397010248598,0.011561681791354294,0.007659822491879419,0.06293240924743043,0.010077873669193153,0.0030679102565056016];
pz = [-0.03846413458200581,-0.004082103038444154,-0.005784793103318149,-0.020939625082142532,-0.000657612418496295,-0.007569732425000815,0.008486994091953172,0.010409087524076988,0.02431691764452079,0.008059949468144562,0.02750042668293394,0.029189905146289608,0.02913944198611683,0.02436955686002326,0.0060475098549093165,0.01542450850143083,0.01426072561741741,0.0011717634136110128,0.0013418817194945781,-0.12966860957130888,-0.13684889264715916,-0.0013033944866833527,-0.01597132346350752,-0.04321567330202592,-0.059812956490994384,-0.08885187792055894,-0.07529659122820466,-0.12011614954288553,-0.08670697589157819,-0.09851533859573759,-0.07147750908172545,-0.10001591179497128,-0.09233722662377788,-0.0830855830805819,-0.07419464819531578,-0.07995086785469475,-0.0684118308343511,-0.07488117544577545,-0.042414650183638665,-0.04318599549394131,-0.011676324047237965,-0.11861670219918354,-0.0628319080221669,-0.08949907436152252,-0.054775118866356574,-0.05974650607341193,-0.037610435788250976,-0.10862877201586453,0.013739364970637186,0.013716828470359044];

% original point 
ox =-0.5573229723937336;
oy =0.030532680247344235;
oz =-0.04699586090419561;
% projected point 
fx =-0.555900922225312;
fy =0.03475156918751701;
fz =-0.04393382530339366;
% local plane normal 
nx =-0.16508014238408783;
ny =-0.7882973468692605;
nz =-0.5927358935557522;

% surface normal 
sx =-0.2166900289384015;
sy =-0.8273873274194365;
sz =-0.5181463517042233;
curvature = 3581032.786790832;
















tx = reshape(x, countX,countY);
ty = reshape(y, countX,countY);
tz = reshape(z, countX,countY);

mesh(tx, ty, tz);

hold on;
% neighborhood points
plot3(px,py,pz, 'r*');
% original point
plot3(ox,oy,oz, 'bo');
% projected point
plot3(fx,fy,fz, 'b*');


% normal
plot3([ox,ox+del*nx],[oy,oy+del*ny],[oz,oz+del*nz], 'k-*');
plot3([fx,fx+del*sx],[fy,fy+del*sy],[fz,fz+del*sz], 'k-*');





axis equal;































%

% ...